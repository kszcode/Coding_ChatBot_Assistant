- Model      : gpt-4
- Temperature: 0.1
- Tokens     : 2786
- Duration   : 81.84612798690796


# ASSISTANT:
Here's the updated code that allows you to provide an argument with `--topic` to the main script. The value of it will look up a folder in the `<current-folder>/topic` and from there it will load the `scratchpad.md`, `user_message.md`, and `system_message.md`.

```python
import argparse
import json
import os
import textwrap
import time
from datetime import datetime
from typing import Any, Union
from typing import List

import openai


class AppState:
    def __init__(self):
        self.MODEL_NAME = "gpt-4"
        self.MODEL_TEMPERATURE = 0.1
        self.MODEL_MAX_TOKENS = 7500
        self.USER_MESSAGE_FILE = 'user-message.md'
        self.SYSTEM_MESSAGE_FILE = 'system-message.md'
        self.SCRATCH_PAD_FILE = 'scratch-pad.md'
        self.TOPIC_FOLDER = '1-change-topic-base-folder-python'
        self.ALL_MESSAGES = list()

    def for_topic_get(self, relative_path):
        return os.path.join('topics/{}/{}'.format(self.TOPIC_FOLDER, relative_path))


app_state = AppState()

# ... (rest of the code remains the same)

def main():
    # instantiate chatbot
    openai.api_key = read_file_content('key_openai.txt').strip()

    # parse arguments
    parser = argparse.ArgumentParser(description="Chatbot using OpenAI API")
    parser.add_argument("--model", default=app_state.MODEL_NAME,
                        help="Model name (default: %(default)s)")
    parser.add_argument("--temperature", type=float, default=app_state.MODEL_TEMPERATURE,
                        help="Temperature (default: %(default)s)")
    parser.add_argument("--topic", type=str, default=app_state.TOPIC_FOLDER,
                        help="Topic folder (default: %(default)s)")
    args, unknown = parser.parse_known_args()

    app_state.MODEL_NAME = args.model
    app_state.MODEL_TEMPERATURE = args.temperature
    app_state.TOPIC_FOLDER = args.topic

    print(f"Current settings:\n"
          f"Model: {app_state.MODEL_NAME}\n"
          f"Temperature: {app_state.MODEL_TEMPERATURE}\n"
          f"Topic: {app_state.TOPIC_FOLDER}")
    print("Sample app usage: python chat.py --model gpt-3.5-turbo --temperature 0.2 --topic my-topic-folder")

    # ... (rest of the code remains the same)

if __name__ == '__main__':
    main()
```

Now you can provide the `--topic` argument when running the script, like this:

```bash
python chat.py --model gpt-3.5-turbo --temperature 0.2 --topic my-topic-folder
```

