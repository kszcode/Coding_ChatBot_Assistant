- Model      : gpt-4
- Temperature: 0.1
- Tokens     : 2475
- Duration   : 32.2515766620636


# ASSISTANT:
To update the code to make the topic folder relative to the current working folder and log the response in the topic folder, you can modify the `AppState` class and the `save_response_as_human_readable_text` function as follows:

```python
class AppState:
    def __init__(self):
        # ...
        self.TOPIC_FOLDER = os.path.join(os.getcwd(), '1-change-topic-base-folder-python')
        # ...

    def for_topic_get(self, relative_path):
        return os.path.join(self.TOPIC_FOLDER, relative_path)


# ...


def save_response_as_human_readable_text(response, total_tokens, duration, suffix=""):
    log_dir = app_state.for_topic_get("log/openai")
    if not os.path.exists(log_dir):
        os.makedirs(log_dir)
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    log_file = os.path.join(log_dir, f"{timestamp}{suffix}")
    # ...
```

Now, the `TOPIC_FOLDER` attribute in the `AppState` class is set to the current working folder, and the `save_response_as_human_readable_text` function saves the response in the topic folder.

