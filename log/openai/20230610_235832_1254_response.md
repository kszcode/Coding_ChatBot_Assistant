- Model      : gpt-4
- Temperature: 0.2
- Tokens     : 1254
- Duration   : 24.615374088287354


# ASSISTANT:
Here's the updated code to generate the expected JSON format:

```python
import os
import ast
import json


def get_functions(file_path):
    with open(file_path, "r") as source_code:
        tree = ast.parse(source_code.read())
        functions = [node.name for node in ast.walk(tree) if isinstance(node, ast.FunctionDef)]
    return functions


def scan_directory(path):
    directory_data = {}
    for root, dirs, files in os.walk(path):
        for file in files:
            if file.endswith('.py'):
                file_path = os.path.join(root, file)
                folder = os.path.dirname(file_path)
                if folder not in directory_data:
                    directory_data[folder] = {}
                directory_data[folder][file] = {"list-of-functions": get_functions(file_path)}
    return directory_data


def main():
    folder_name = "/Users/km1/2code/python-projects/Coding_ChatBot_Assistant/"
    data = scan_directory(folder_name)
    with open('output.json', 'w') as json_file:
        json.dump(data, json_file, indent=4)


if __name__ == "__main__":
    main()
```

This code will generate the JSON in the format you expect, with the folder name as the first key, the file name as the second key, and "list-of-functions" as the third key.

