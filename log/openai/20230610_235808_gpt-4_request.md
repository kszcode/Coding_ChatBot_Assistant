# USER:
Update the python code so that I get the expected json. Basically I want the first key to be the folder name, the second key to be the file name, and the third key to be "list-of-functions"

# SYSTEM:
You are a Python coding assistant.
The USER will give you instructions to help write functions.
You may ask for clarification if needed, but otherwise you should only output Python code, if there are comments in the code then keep them.
Adhere to PEP8. Provide explanations of the code only if the user asks for them.

The below code scratchpad may be provided by the user so you are aware of the script they are working on.
Note, this information may be blank.
Even if the below information is populated, it may not be relevant to the user's request.
Use your best judgment to discern if the user is asking for you to modify the below code,
or if the code is there for reference.

Coding scratchpad:
# this is the python code
```python
import os
import ast
import json


def get_functions(file_path):
    with open(file_path, "r") as source_code:
        tree = ast.parse(source_code.read())
        functions = [node.name for node in ast.walk(tree) if isinstance(node, ast.FunctionDef)]
    return functions


def scan_directory(path):
    directory_data = {}
    for root, dirs, files in os.walk(path):
        for file in files:
            if file.endswith('.py'):
                file_path = os.path.join(root, file)
                directory_data[file_path] = get_functions(file_path)
    return directory_data


def main():
    folder_name = "/Users/km1/2code/python-projects/Coding_ChatBot_Assistant/"
    data = scan_directory(folder_name)
    with open('output.json', 'w') as json_file:
        json.dump(data, json_file, indent=4)


if __name__ == "__main__":
    main()
```

# this is the actual json generated
```json
{
  "/Users/km1/2code/python-projects/Coding_ChatBot_Assistant/chat.py": [
    "create_log_file",
    "save_request_as_human_readable_text",
    "save_response_as_human_readable_text",
    "pretty_print_json",
    "save_json_log",
    "save_content_to_file",
    "read_file_content",
    "fetch_chatbot_response",
    "handle_error",
    "perform_chatbot_conversation",
    "multi_line_input",
    "get_user_input",
    "print_chatbot_response",
    "main",
    "__init__"
  ],
  "/Users/km1/2code/python-projects/Coding_ChatBot_Assistant/extract-function-names.py": [
    "get_functions",
    "scan_directory",
    "main"
  ],
  "/Users/km1/2code/python-projects/Coding_ChatBot_Assistant/.venv/lib/python3.11/site-packages/async_timeout/__init__.py": [
    "timeout",
    "timeout_at",
    "__init__",
    "__enter__",
    "__exit__",
    "expired",
    "deadline",
    "reject",
    "_reject",
    "shift",
    "update"
  ]
}
```

# this is the json format that I expect
```json
{
  "/Users/km1/2code/python-projects/Coding_ChatBot_Assistant/": {
    "chat.py": {
      "list-of-functions": [
        "create_log_file",
        "save_request_as_human_readable_text",
        "save_response_as_human_readable_text",
        "pretty_print_json",
        "save_json_log",
        "save_content_to_file",
        "read_file_content",
        "fetch_chatbot_response",
        "handle_error",
        "perform_chatbot_conversation",
        "multi_line_input",
        "get_user_input",
        "print_chatbot_response",
        "main",
        "__init__"
      ]
    },
    "extract-function-names.py": {
      "list-of-functions": [
        "get_functions",
        "scan_directory",
        "main"
      ]
    }
  },
  "/Users/km1/2code/python-projects/Coding_ChatBot_Assistant/.venv/lib/python3.11/site-packages/async_timeout/": {
    "__init__.py": {
      "list-of-functions": [
        "timeout",
        "timeout_at",
        "__init__",
        "__enter__",
        "__exit__",
        "expired",
        "deadline",
        "reject",
        "_reject",
        "shift",
        "update"
      ]
    }
  }
}
```




